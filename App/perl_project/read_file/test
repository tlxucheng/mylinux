#!/usr/bin/perl -w

my @table_fields = ();

open(SQL_FP, "<create_table.txt") or die "creat_table.txt can not open";

while(<SQL_FP>){
    if($_ =~ /.*`(.*)`/ and $_ !~ /KEY.*/)
    {
        push(@table_fields, $_ =~ /.*`(.*)`/);
    }

}
close(SQL_FP);

#print "@table_fields\n";

my $data = join('', <DATA>);
my $field_enum;

foreach $enum_str2 (@table_fields[1 .. $#table_fields])
{
    $field_enum .= "\U    DB_CM_$table_fields[0]_$enum_str2,\n";
}
$data =~ s|%FIELD_ENUM%|$field_enum|sg;
print "$data";




##EOF##
__DATA__

enum
{
%FIELD_ENUM%
};
